{"version":3,"file":"sidebar.component.js","sourceRoot":"","sources":["../../../../../.ng_build/theme/components/sidebar/sidebar.component.ts"],"names":[],"mappings":"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","sourcesContent":["/**\n * @license\n * Copyright Akveo. All Rights Reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n */\n\nimport { Component, HostBinding, Input, OnInit, OnDestroy, ElementRef } from '@angular/core';\nimport { Subscription } from 'rxjs/Subscription';\n\nimport { convertToBoolProperty } from '../helpers';\nimport { NbThemeService } from '../../services/theme.service';\nimport { NbMediaBreakpoint } from '../../services/breakpoints.service';\nimport { NbSidebarService } from './sidebar.service';\n\n\n/**\n * Sidebar header container.\n *\n * Placeholder which contains a sidebar header content,\n * placed at the very top of the sidebar outside of the scroll area.\n */\n@Component({\n  selector: 'nb-sidebar-header',\n  template: `\n    <ng-content></ng-content>\n  `,\n})\nexport class NbSidebarHeaderComponent {\n}\n\n/**\n * Sidebar footer container.\n *\n * Placeholder which contains a sidebar footer content,\n * placed at the very bottom of the sidebar outside of the scroll area.\n */\n@Component({\n  selector: 'nb-sidebar-footer',\n  template: `\n    <ng-content></ng-content>\n  `,\n})\nexport class NbSidebarFooterComponent {\n}\n\n/**\n * Layout sidebar component.\n *\n * Sidebar can be place on the left or the right side of the layout, can be fixed (shown above the content)\n * or can push the layout when opened.\n *\n * There are three states - `expanded`, `collapsed`, `compacted`.\n * By default sidebar content is fixed and saves its position while the page is being scrolled.\n *\n * Sidebar also supports a `responsive` behavior, listening to window size change and changing its size respectably.\n *\n * @example Minimal sidebar example\n * ```\n * <nb-sidebar>\n *   Sidebar content.\n * </nb-sidebar>\n * ```\n *\n * @example Example of fixed sidebar located on the left side, initially collapsed.\n *\n * ```\n * <nb-sidebar left fixed state=\"collapsed\">\n *  <nb-sidebar-header>Header</nb-sidebar-header>\n *  <nb-sidebar-content>\n *    Menu or another component here\n *  </nb-sidebar-content>\n *  <nb-sidebar-footer>\n *    Footer components here\n *  </nb-sidebar-footer>\n * </nb-sidebar>\n * ```\n *\n * @styles\n *\n * sidebar-font-size: Sidebar content font size\n * sidebar-line-height: Sidebar content line height\n * sidebar-fg: Foreground color\n * sidebar-bg: Background color\n * sidebar-height: Content height\n * sidebar-width: Expanded width\n * sidebar-width-compact: Compacted width\n * sidebar-padding: Sidebar content padding\n * sidebar-header-height: Sidebar header height\n * sidebar-footer-height: Sidebar footer height\n * sidebar-shadow: Sidebar container shadow\n *\n */\n@Component({\n  selector: 'nb-sidebar',\n  styleUrls: ['./sidebar.component.css'],\n  template: `\n    <div class=\"main-container\">\n      <ng-content select=\"nb-sidebar-header\"></ng-content>\n      <div class=\"scrollable\" (click)=\"onClick($event)\">\n        <ng-content></ng-content>\n      </div>\n      <ng-content select=\"nb-sidebar-footer\"></ng-content>\n    </div>\n  `,\n})\nexport class NbSidebarComponent implements OnInit, OnDestroy {\n\n  static readonly STATE_EXPANDED: string = 'expanded';\n  static readonly STATE_COLLAPSED: string = 'collapsed';\n  static readonly STATE_COMPACTED: string = 'compacted';\n\n  static readonly RESPONSIVE_STATE_MOBILE: string = 'mobile';\n  static readonly RESPONSIVE_STATE_TABLET: string = 'tablet';\n  static readonly RESPONSIVE_STATE_PC: string = 'pc';\n\n  protected stateValue: string;\n  protected responsiveValue: boolean = false;\n\n  @HostBinding('class.fixed') fixedValue: boolean = false;\n  @HostBinding('class.right') rightValue: boolean = false;\n  @HostBinding('class.left') leftValue: boolean = true;\n\n  // TODO: rename stateValue to state (take a look to the card component)\n  @HostBinding('class.expanded')\n  get expanded() {\n    return this.stateValue === NbSidebarComponent.STATE_EXPANDED;\n  }\n  @HostBinding('class.collapsed')\n  get collapsed() {\n    return this.stateValue === NbSidebarComponent.STATE_COLLAPSED;\n  }\n  @HostBinding('class.compacted')\n  get compacted() {\n    return this.stateValue === NbSidebarComponent.STATE_COMPACTED;\n  }\n\n  /**\n   * Places sidebar on the left side\n   * @type {boolean}\n   */\n  @Input()\n  set right(val: boolean) {\n    this.rightValue = convertToBoolProperty(val);\n    this.leftValue = !this.rightValue;\n  }\n\n  /**\n   * Places sidebar on the right side\n   * @type {boolean}\n   */\n  @Input()\n  set left(val: boolean) {\n    this.leftValue = convertToBoolProperty(val);\n    this.rightValue = !this.leftValue;\n  }\n\n  /**\n   * Makes sidebar fixed (shown above the layout content)\n   * @type {boolean}\n   */\n  @Input()\n  set fixed(val: boolean) {\n    this.fixedValue = convertToBoolProperty(val);\n  }\n\n  /**\n   * Initial sidebar state, `expanded`|`collapsed`|`compacted`\n   * @type {string}\n   */\n  @Input()\n  set state(val: string) {\n    this.stateValue = val;\n  }\n\n  /**\n   * Makes sidebar listen to media query events and change its behaviour\n   * @type {boolean}\n   */\n  @Input()\n  set responsive(val: boolean) {\n    this.responsiveValue = convertToBoolProperty(val);\n    this.toggleResponsive(this.responsiveValue);\n  }\n\n  /**\n   * Tags a sidebar with some ID, can be later used in the sidebar service\n   * to determine which sidebar triggered the action, if multiple sidebars exist on the page.\n   *\n   * @type {string}\n   */\n  @Input() tag: string;\n\n  private toggleSubscription: Subscription;\n  private expandSubscription: Subscription;\n  private collapseSubscription: Subscription;\n  private mediaQuerySubscription: Subscription;\n  private responsiveState = NbSidebarComponent.RESPONSIVE_STATE_PC;\n\n  constructor(private sidebarService: NbSidebarService,\n              private themeService: NbThemeService,\n              private element: ElementRef) {\n  }\n\n  toggleResponsive(enabled: boolean) {\n    if (enabled) {\n      this.mediaQuerySubscription = this.onMediaQueryChanges();\n    } else if (this.mediaQuerySubscription) {\n      this.mediaQuerySubscription.unsubscribe();\n    }\n  }\n\n  ngOnInit() {\n    this.toggleSubscription = this.sidebarService.onToggle()\n      .subscribe((data: { compact: boolean, tag: string }) => {\n        if (!this.tag || this.tag === data.tag) {\n          this.toggle(data.compact);\n        }\n      });\n\n    this.expandSubscription = this.sidebarService.onExpand()\n      .subscribe((data: { tag: string }) => {\n        if (!this.tag || this.tag === data.tag) {\n          this.expand();\n        }\n      });\n\n    this.collapseSubscription = this.sidebarService.onCollapse()\n      .subscribe((data: { tag: string }) => {\n        if (!this.tag || this.tag === data.tag) {\n          this.collapse();\n        }\n      });\n  }\n\n  ngOnDestroy() {\n    this.toggleSubscription.unsubscribe();\n    this.expandSubscription.unsubscribe();\n    this.collapseSubscription.unsubscribe();\n    if (this.mediaQuerySubscription) {\n      this.mediaQuerySubscription.unsubscribe();\n    }\n  }\n\n  onClick(event): void {\n    const menu = this.element.nativeElement.querySelector('nb-menu');\n    if (menu && menu.contains(event.target)) {\n      this.expand();\n    }\n  }\n\n  /**\n   * Collapses the sidebar\n   */\n  collapse() {\n    this.state = NbSidebarComponent.STATE_COLLAPSED;\n  }\n\n  /**\n   * Expands the sidebar\n   */\n  expand() {\n    this.state = NbSidebarComponent.STATE_EXPANDED;\n  }\n\n  /**\n   * Compacts the sidebar (minimizes)\n   */\n  compact() {\n    this.state = NbSidebarComponent.STATE_COMPACTED;\n  }\n\n  /**\n   * Toggles sidebar state (expanded|collapsed|compacted)\n   * @param {boolean} compact If true, then sidebar state will be changed between expanded & compacted,\n   * otherwise - between expanded & collapsed. False by default.\n   *\n   * @example Toggle sidebar state\n   *\n   * ```\n   * this.sidebar.toggle(true);\n   * ```\n   */\n  toggle(compact: boolean = false) {\n    if (this.responsiveEnabled()) {\n      if (this.responsiveState === NbSidebarComponent.RESPONSIVE_STATE_MOBILE) {\n        compact = false;\n      }\n    }\n\n    const closedStates = [NbSidebarComponent.STATE_COMPACTED, NbSidebarComponent.STATE_COLLAPSED];\n    if (compact) {\n      this.state = closedStates.indexOf(this.stateValue) >= 0 ?\n        NbSidebarComponent.STATE_EXPANDED : NbSidebarComponent.STATE_COMPACTED;\n    } else {\n      this.state = closedStates.indexOf(this.stateValue) >= 0 ?\n        NbSidebarComponent.STATE_EXPANDED : NbSidebarComponent.STATE_COLLAPSED;\n    }\n  }\n\n  protected onMediaQueryChanges(): Subscription {\n    return this.themeService.onMediaQueryChange()\n      .subscribe(([prev, current]: [NbMediaBreakpoint, NbMediaBreakpoint]) => {\n\n        // TODO: get width by the key and define only max width for the tablets and mobiles\n        const tablet = ['xs', 'is', 'sm', 'md', 'lg'];\n        const mobile = ['xs', 'is'];\n\n        if (tablet.indexOf(current.name) !== -1) {\n          this.fixed = true;\n          this.compact();\n          this.responsiveState = NbSidebarComponent.RESPONSIVE_STATE_TABLET;\n        }\n        if (mobile.indexOf(current.name) !== -1) {\n          this.collapse();\n          this.responsiveState = NbSidebarComponent.RESPONSIVE_STATE_MOBILE;\n        }\n        if (tablet.indexOf(current.name) === -1  && prev.width < current.width) {\n          this.expand();\n          this.fixed = false;\n          this.responsiveState = NbSidebarComponent.RESPONSIVE_STATE_PC;\n        }\n      });\n  }\n\n  protected responsiveEnabled(): boolean {\n    return this.responsiveValue;\n  }\n}\n"]}